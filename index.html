<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Suraj Rauniyar â€” Portfolio</title>

  <!-- Fonts & icons -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;600;700&display=swap"></noscript>
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"></noscript>

  <style>
  /* ============================
     Eye-friendly Palette & Layout (updated)
     - 3D / heavy visuals removed
     - Softer accents and reduced shadows for eye comfort
     ============================ */
  :root{
    /* spacing */
    --space-xs: 0.6rem;
    --space-sm: 1.2rem;
    --space-md: 2.0rem;
    --space-lg: 3.2rem;

    /* Light mode */
    --bg: #ffffff;                /* clean white */
    --card-bg: #ffffff;           /* cards stay white */
    --text: #0f1724;              /* near-black but warm */
    --muted: #55606a;             /* softened gray for less contrast */
    --accent-1: #0EA5A4;          /* calm teal */
    --accent-2: #F59E0B;          /* subtle warm amber */
    --accent-3: #10B981;          /* green for success */
    --accent-4: #EF4444;          /* alerts */
    --header-bg: rgba(255,255,255,0.9);
    --nav-text: #0b1220;
    --nav-hover: rgba(14,165,164,0.06);
    --glass-border: rgba(15,23,36,0.06);
    --shadow: 0 6px 18px rgba(10, 15, 25, 0.06);
    --shadow-lg: 0 12px 32px rgba(10, 15, 25, 0.08);

    --type-base: 1.45rem;
    --type-sm: clamp(1.6rem,1.8vw,1.9rem);
    --type-md: clamp(2.1rem,2.6vw,2.6rem);
    --type-lg: clamp(2.8rem,3.8vw,3.4rem);
    --type-xl: clamp(3.6rem,5vw,4.4rem);

    --radius: 14px;
    --max-width: 1200px;
  }

  /* Dark Mode - softer darks */
  html[data-theme="dark"]{
    --bg: #0b1220;                /* deep, low-blue black */
    --card-bg: #0f1724;           /* slightly elevated card */
    --text: #E6EEF6;              /* gentle off-white for less glare */
    --muted: #93a0ad;             /* comfortable muted text */
    --accent-1: #38B2AC;          /* teal but slightly brighter */
    --accent-2: #F6AD55;          /* warmer amber */
    --accent-3: #34D399;          /* green success */
    --accent-4: #F87171;          /* softer red */
    --header-bg: rgba(14,20,30,0.78);
    --nav-text: #E6EEF6;
    --nav-hover: rgba(56,178,172,0.08);
    --glass-border: rgba(255,255,255,0.04);
    --shadow: 0 6px 20px rgba(0,0,0,0.32);
    --shadow-lg: 0 18px 44px rgba(0,0,0,0.45);
  }

  /* base reset */
  *{ box-sizing:border-box; margin:0; padding:0; }
  html{ font-size:62.5%; scroll-behavior:smooth; }
  body{
    font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: var(--bg);
    color: var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.6;
  }

  /* accessible focus */
  *:focus { outline: 3px solid color-mix(in srgb, var(--accent-1) 65%, transparent); outline-offset: 2px; }

  .skip-link{ position:absolute; top:-40px; left:6px; background:var(--accent-1); color:#fff; padding:8px; border-radius:4px; z-index:10000; }
  .skip-link:focus{ top:6px; }

  /* removed heavy visual layers (no 3D canvas). kept subtle soft gradient only if desired */
  .soft-bg { position: fixed; inset: 0; z-index: -2; pointer-events: none; background: transparent; }

  /* Header */
  .site-header{
    position: fixed; top: var(--space-sm); left: 50%; transform: translateX(-50%);
    width: calc(100% - var(--space-lg)); max-width: var(--max-width);
    display:flex; align-items:center; justify-content:space-between; gap:2.4rem;
    padding: .8rem 2.2rem; min-height:64px; border-radius:14px;
    background: var(--header-bg); border: 1px solid var(--glass-border); box-shadow: var(--shadow);
    z-index:1000; backdrop-filter: blur(6px) saturate(120%);
  }

  .logo{ color:var(--accent-1); font-weight:700; font-size:2.2rem; text-decoration:none; margin-right:1.6rem; }

  .nav-wrap{ flex:1 1 auto; display:flex; justify-content:center; align-items:center; margin:0 1.2rem; }

  nav.primary-nav ul{ list-style:none; display:flex; gap:2rem; align-items:center; margin:0; padding:0; }
  nav.primary-nav a{ color:var(--nav-text); text-decoration:none; font-size:1.45rem; padding:.6rem 1rem; border-radius:10px; display:inline-flex; align-items:center; gap:.5rem; white-space:nowrap; transition: all .22s ease; font-weight:500; }

  nav.primary-nav a::after{ content:""; position:absolute; left:0; right:0; bottom:-4px; height:2px; width:0; background:linear-gradient(90deg,var(--accent-1),var(--accent-2)); transition: width .26s ease; border-radius:2px; }
  nav.primary-nav a:hover::after, nav.primary-nav a.active::after{ width:100%; }

  nav.primary-nav a:hover{ transform: translateY(-2px); color:var(--text); background:var(--nav-hover); }
  nav.primary-nav a.active{ color:var(--accent-1); }

  .header-controls{ display:flex; gap:1rem; align-items:center; margin-left:1rem; }

  .theme-toggle, .nav-toggle{ border-radius:10px; border:1px solid var(--glass-border); padding:.7rem; background:transparent; color:var(--nav-text); display:inline-flex; align-items:center; justify-content:center; min-width:44px; min-height:44px; cursor:pointer; transition: all .18s ease; }
  .theme-toggle:hover, .nav-toggle:hover{ background:var(--nav-hover); transform: translateY(-2px); border-color:var(--accent-1); }

  .hamburger{ width:2.2rem; height:.2rem; background:var(--nav-text); border-radius:3px; position:relative; transition: all .18s ease; }
  .hamburger::before, .hamburger::after{ content:""; position:absolute; left:0; right:0; height:.2rem; background:var(--nav-text); border-radius:3px; transition: all .18s ease; }
  .hamburger::before{ top:-.6rem; } .hamburger::after{ top:.6rem; }

  main{ max-width:var(--max-width); margin: calc(5rem + var(--space-lg)) auto 6rem; padding:0 1.6rem; }

  /* cards */
  .card{ background:var(--card-bg); border-radius:12px; border:1px solid var(--glass-border); padding: calc(var(--space-md) * 1.05); box-shadow: var(--shadow); transition: transform .22s ease, box-shadow .22s ease; }
  .card:hover{ transform: translateY(-4px); box-shadow: var(--shadow-lg); border-color: color-mix(in srgb, var(--accent-1) 12%, transparent); }

  /* hero */
  .home{ display:flex; gap:var(--space-lg); align-items:center; justify-content:center; margin-bottom:var(--space-lg); }
  .home-img img{ width:min(34vw,360px); max-width:420px; border-radius:50%; border:6px solid rgba(255,255,255,0.04); box-shadow:0 12px 40px rgba(0,0,0,0.08); transition:transform .28s; }
  .home-img img:hover{ transform: translateY(-6px) scale(1.03); }

  .home-content h1{ font-family:"Playfair Display", serif; font-size:var(--type-xl); margin-bottom:.6rem; line-height:1.02; }
  .home-content h3{ font-size:var(--type-md); color:var(--accent-1); margin-bottom:.6rem; }
  .home-content p{ font-size:var(--type-base); color:var(--muted); max-width:66ch; margin-bottom:var(--space-sm); }

  .cursor{ display:inline-block; background:var(--accent-1); width:3px; height:1.2em; margin-left:2px; animation: blink 1s infinite; }
  @keyframes blink{ 0%,50%{ opacity:1; } 51%,100%{ opacity:0; } }

  .home-cta{ display:flex; gap:.8rem; flex-wrap:wrap; margin-top:.6rem; }
  .btn{ display:inline-flex; align-items:center; justify-content:center; padding:.9rem 2rem; border-radius:10px; font-weight:600; font-size:1.45rem; text-decoration:none; background: linear-gradient(135deg, var(--accent-1), var(--accent-2)); color:#fff; border:none; cursor:pointer; transition: all .22s cubic-bezier(0.4,0,0.2,1); box-shadow: var(--shadow); }
  .btn.outline{ background:transparent; border:2px solid var(--accent-1); color:var(--accent-1); box-shadow:none; }
  .btn:hover{ transform: translateY(-2px) scale(1.01); }

  .social-icons{ display:flex; gap:.8rem; margin-top:1rem; }
  .social-icons a{ width:3.6rem; height:3.6rem; display:inline-flex; align-items:center; justify-content:center; border-radius:10px; font-size:1.4rem; color:#fff; background:var(--accent-1); box-shadow:var(--shadow); }
  .social-icons a:nth-child(even){ background:var(--accent-2); }
  .social-icons a:hover{ transform: translateY(-3px) scale(1.05); box-shadow:var(--shadow-lg); }

  /* sections */
  .section{ margin:var(--space-lg) 0; }
  .section h2{ font-family: "Playfair Display", serif; font-size:var(--type-lg); margin-bottom:.8rem; color:var(--accent-1); position:relative; }
  .section h2::after{ content:''; position:absolute; bottom:-4px; left:0; width:60px; height:3px; background:linear-gradient(90deg,var(--accent-1),var(--accent-2)); border-radius:2px; }
  .section p, li{ font-size:var(--type-base); color:var(--muted); }

  /* timeline */
  .timeline{ position:relative; display:flex; flex-direction:column; gap:var(--space-lg); padding-left:2rem; }
  .timeline::before{ content:''; position:absolute; left:1rem; top:0; bottom:0; width:3px; background:linear-gradient(180deg,var(--accent-1),var(--accent-2)); border-radius:999px; }
  .timeline-item{ position:relative; display:flex; gap:var(--space-md); align-items:flex-start; }
  .timeline-item::before{ content:''; position:absolute; left:-2.75rem; top:0.5rem; width:1.5rem; height:1.5rem; background:linear-gradient(135deg,var(--accent-1),var(--accent-2)); border-radius:50%; border:3px solid var(--card-bg); box-shadow:0 0 0 3px var(--glass-border), var(--shadow); z-index:2; }

  /* projects */
  .projects-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:var(--space-md); }
  .project{ border-radius:12px; padding:var(--space-md); border:1px solid var(--glass-border); background:var(--card-bg); box-shadow:var(--shadow); }
  .project:hover{ transform: translateY(-6px) scale(1.02); box-shadow:var(--shadow-lg); border-color: color-mix(in srgb, var(--accent-1) 12%, transparent); }

  /* skills */
  .skills-grid{ display:flex; flex-wrap:wrap; gap:.8rem; margin-top:.6rem; }
  .skill-pill{ padding:.7rem 1.4rem; border-radius:20px; background:var(--accent-1); color:#fff; font-weight:600; font-size:1.3rem; box-shadow:var(--shadow); }
  .skill-pill:nth-child(even){ background:var(--accent-2); }

  .skill-bar{ margin-top:.8rem; background:var(--glass-border); height:8px; border-radius:12px; overflow:hidden; }
  .skill-fill{ height:100%; width:0%; background: linear-gradient(90deg, var(--accent-1), var(--accent-2)); transition: width 1.2s cubic-bezier(.2,.9,.3,.9); border-radius:12px; }

  /* contact form */
  .contact-grid{ display:grid; grid-template-columns:1fr 1fr; gap:var(--space-lg); align-items:start; }
  .contact-item{ display:flex; align-items:center; gap:1rem; margin-bottom:1rem; padding:1.2rem; border-radius:12px; background:var(--card-bg); border:2px solid var(--glass-border); color:var(--text); box-shadow:var(--shadow); }
  .contact-item:hover{ border-color:var(--accent-1); transform: translateY(-2px); box-shadow:var(--shadow-lg); background: linear-gradient(180deg, color-mix(in srgb, var(--accent-1) 6%, transparent), var(--card-bg)); color:#fff; }

  .form-input{ width:100%; padding:1.2rem; border:2px solid var(--glass-border); border-radius:10px; background:var(--card-bg); color:var(--text); font-size:1.4rem; box-shadow:var(--shadow); }
  .form-input.error{ border-color:var(--accent-4); box-shadow: 0 0 0 4px rgba(239,71,71,0.08); }

  /* footer */
  .site-footer{ text-align:center; color:var(--muted); margin:var(--space-lg) 0; font-size:1.35rem; }

  /* responsive tweaks (kept concise) */
  @media (min-width:1200px){ /* search removed */ }
  @media (max-width:1000px){ .nav-wrap{ display:none; } .nav-toggle{ display:inline-flex; } .search-container{ display:none; } }
  @media (max-width:768px){ .home{ flex-direction:column-reverse; text-align:center; } .home-img img{ width:60vw; max-width:250px; } .projects-grid{ grid-template-columns:1fr; } .contact-grid{ grid-template-columns:1fr; } }
  @media (max-width:480px){ .site-header{ width:calc(100% - var(--space-sm)); padding:.6rem 1rem; } .logo{ font-size:1.8rem; } }

  /* print */
  @media print{ body{ background:white !important; } .site-header, .theme-toggle, .nav-toggle { display:none !important; } }
  </style>
</head>

<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <header class="site-header" role="banner">
    <a href="#home" class="logo">Flora</a>

    <div class="nav-wrap" aria-hidden="false">
      <nav id="primary-navigation" class="primary-nav" role="navigation" aria-label="Primary navigation">
        <ul>
          <li><a href="#home" class="active">Home</a></li>
          <li><a href="#summary">Summary</a></li>
          <li><a href="#education">Education</a></li>
          <li><a href="#experience">Experience</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#skills">Skills</a></li>
          <li><a href="#certs">Certifications</a></li>
          <li><a href="#contact" class="contact">Contact</a></li>
        </ul>
      </nav>
    </div>

    <div class="header-controls" role="group" aria-label="Header controls">
      </div>

      <button id="theme-toggle" class="theme-toggle" aria-pressed="false" aria-label="Toggle theme">
        <i class="fa-regular fa-moon" aria-hidden="true"></i>
      </button>

      <button class="nav-toggle" aria-controls="mobile-nav" aria-expanded="false" aria-label="Open menu">
        <span class="hamburger" aria-hidden="true"></span>
      </button>
    </div>
  </header>

  <!-- Mobile nav -->
  <nav id="mobile-nav" aria-hidden="true" style="display:none; position:fixed; right:1rem; top:76px; z-index:1200;">
    <div style="background:var(--card-bg); border-radius:12px; padding:12px; border:1px solid var(--glass-border); box-shadow:var(--shadow);">
      <ul style="list-style:none; display:flex; flex-direction:column; gap:.6rem; margin:0; padding:0;">
        <li><a href="#home">Home</a></li>
        <li><a href="#summary">Summary</a></li>
        <li><a href="#education">Education</a></li>
        <li><a href="#experience">Experience</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#skills">Skills</a></li>
        <li><a href="#certs">Certifications</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <main id="main-content" role="main">
    <!-- Hero -->
    <section id="home" class="home card" aria-labelledby="hero-heading">
      <div class="home-img" aria-hidden="false">
        <img src="main.png" alt="Portrait of Suraj">
      </div>

      <div class="home-content">
        <h1 id="hero-heading">Hi, It's <span style="color:var(--accent-1)">Suraj Rauniyar</span></h1>
        <h3 class="typing-text" aria-live="polite">I'm a <span id="typed"></span><span class="cursor" aria-hidden="true"></span></h3>
        <p>Third-year BSc (Hons) Computer Networking & IT Security student. I build networking projects, experiment with IoT, and practice ethical hacking and system administration.</p>

        <div class="home-cta">
          <button id="resume-btn" class="btn">Get Resume</button>
          <a href="#contact" class="btn outline">Contact Me</a>
        </div>

        <div class="social-icons" aria-label="Social links">
          <a href="https://www.linkedin.com/in/suraj-rauniyar-363882159/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
          <a href="#" aria-label="GitHub" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-github"></i></a>
          <a href="#" aria-label="X" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-x-twitter"></i></a>
          <a href="#" aria-label="Instagram" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-instagram"></i></a>
        </div>
      </div>
    </section>

    <!-- rest of content (kept largely the same for brevity) -->

    <section id="summary" class="section card" aria-labelledby="summary-heading">
      <h2 id="summary-heading">Career Objective / Summary</h2>
      <p>Motivated and detail-oriented third-year Computer Networking & IT Security student with hands-on experience in Cisco Packet Tracer, web development, MariaDB, and basic Python/Java. Strong analytical mindset and passion for practical security projects. Seeking internships to gain real-world experience and build a security-focused career.</p>
    </section>

    <!-- Education, Experience, Projects, Skills, Certs, Contact sections kept unchanged structurally -->

    <section id="education" class="section card" aria-labelledby="education-heading">
      <h2 id="education-heading">Education</h2>
      <div class="grid-2">
        <div>
          <h3>BSc (Hons) Computer Networking & IT Security</h3>
          <p><strong>Islington College â€” London Metropolitan University</strong></p>
          <p class="muted">Feb 2024 â€“ Present â€” Kamal Marg, Kathmandu</p>
        </div>
        <div>
          <h3>GCE A-Levels, Science</h3>
          <p><strong>Chelsea International Academy â€” Cambridge University</strong></p>
          <p class="muted">Jul 2019 â€“ Dec 2023 â€” Baneshwor, Kathmandu</p>
        </div>
      </div>
    </section>

    <section id="experience" class="section">
      <h2 id="experience-heading">Experience</h2>
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-date">Feb 2025 â€“ Present</div>
          <div class="timeline-card card">
            <h3>Marketing & Communication Intern â€” Islington College</h3>
            <ul>
              <li>Promoted academic programs and called prospective students to explain benefits and increase awareness.</li>
              <li>Maintained student records and coordinated application/announcement communications.</li>
            </ul>
          </div>
        </div>

        <div class="timeline-item">
          <div class="timeline-date">Dec 2024 â€“ Feb 2025</div>
          <div class="timeline-card card">
            <h3>IT Support Intern â€” Islington College</h3>
            <ul>
              <li>Assisted students and faculty with AV and lab setups; troubleshot hardware and software issues during sessions.</li>
            </ul>
          </div>
        </div>

        <div class="timeline-item">
          <div class="timeline-date">Jan 2024 â€“ Dec 2024</div>
          <div class="timeline-card card">
            <h3>Assistant Manager â€” Roshani Traders Pvt. Ltd.</h3>
            <ul>
              <li>Monitored inventory, analyzed sales reports, and supported strategies to improve product turnover and reduce stock issues.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="projects" class="section">
      <h2 id="projects-heading">Projects</h2>
      <div class="projects-grid">
        <article class="project">
          <h3>Smart Door Lock System (IoT)</h3>
          <p class="muted" style="margin:.4rem 0;">ESP32 â€¢ C/C++ â€¢ PIR â€¢ I2C LCD â€¢ Keypad</p>
          <p>Motion-triggered LCD, PIN-based access, admin PIN creation, solenoid lock control, local logging and low-power operation.</p>
        </article>

        <article class="project">
          <h3>Command Injection Demo</h3>
          <p class="muted" style="margin:.4rem 0;">Mutillidae â€¢ Metasploitable</p>
          <p>Group demonstration of command injection exploitation and mitigation strategies with a technical report and live demo.</p>
        </article>

        <article class="project">
          <h3>DockDialog â€” Self-hosted AI Chat</h3>
          <p class="muted" style="margin:.4rem 0;">Docker â€¢ Ollama â€¢ OpenWebUI</p>
          <p>Privacy-first local deployment & GUI for LLMs with Docker automation and resource controls for on-prem LLM usage.</p>
        </article>
      </div>
    </section>

    <section id="skills" class="section card">
      <h2 id="skills-heading">Skills</h2>
      <div class="skills-grid" id="skills-grid">
        <div class="skill-pill">Cisco Packet Tracer</div>
        <div class="skill-pill">Networking Fundamentals</div>
        <div class="skill-pill">Python (beginner)</div>
        <div class="skill-pill">HTML / CSS / JS</div>
        <div class="skill-pill">MariaDB / SQL</div>
        <div class="skill-pill">Linux basics</div>
      </div>

      <div style="margin-top:1rem;">
        <div style="font-weight:600; margin-bottom:.6rem;">Skill levels</div>
        <div class="skill-bar" aria-hidden="true"><div class="skill-fill" data-fill="85"></div></div>
        <div style="font-size:1.25rem; color:var(--muted); margin-top:.5rem;">Networking & Tools â€” 85%</div>
      </div>
    </section>

    <section id="certs" class="section card">
      <h2 id="certs-heading">Certifications</h2>
      <ul class="cert-list" style="margin-top:.8rem; color:var(--muted);">
        <li>AWS Academy Cloud Architecting</li>
        <li>AWS Academy Cloud Operations</li>
        <li>AWS Academy Security Foundations</li>
        <li>AWS Academy Cloud Security Foundations</li>
      </ul>
    </section>

    <section id="contact" class="section card">
      <h2 id="contact-heading">Contact Me</h2>

      <div class="contact-grid">
        <div class="contact-info">
          <h3>Get In Touch</h3>
          <p>I'm always open to discussing new opportunities, interesting projects, or just having a chat about technology and security.</p>

          <div class="contact-details">
            <div class="contact-item">
              <i class="fa-solid fa-location-dot"></i>
              <span>Anamnagar-29, Kathmandu</span>
            </div>
            <div class="contact-item">
              <i class="fa-solid fa-phone"></i>
              <span>+977-9803494146</span>
            </div>
            <div class="contact-item">
              <i class="fa-solid fa-envelope"></i>
              <a href="mailto:surajrauniyar1@outlook.com">surajrauniyar1@outlook.com</a>
            </div>
            <div class="contact-item">
              <i class="fa-brands fa-linkedin"></i>
              <a href="https://www.linkedin.com/in/suraj-rauniyar-363882159/" target="_blank" rel="noopener noreferrer">LinkedIn Profile</a>
            </div>
          </div>
        </div>

        <form id="contact-form" class="contact-form" method="POST" action="/api/contact">
          <div class="form-group">
            <label for="name" class="form-label">Name *</label>
            <input type="text" id="name" name="name" class="form-input" required aria-describedby="name-error">
            <span id="name-error" class="form-error" role="alert"></span>
          </div>

          <div class="form-group">
            <label for="email" class="form-label">Email *</label>
            <input type="email" id="email" name="email" class="form-input" required aria-describedby="email-error">
            <span id="email-error" class="form-error" role="alert"></span>
          </div>

          <div class="form-group">
            <label for="subject" class="form-label">Subject *</label>
            <input type="text" id="subject" name="subject" class="form-input" required aria-describedby="subject-error">
            <span id="subject-error" class="form-error" role="alert"></span>
          </div>

          <div class="form-group">
            <label for="message" class="form-label">Message *</label>
            <textarea id="message" name="message" class="form-input" rows="5" required aria-describedby="message-error"></textarea>
            <span id="message-error" class="form-error" role="alert"></span>
          </div>

          <input type="text" name="honeypot" style="display:none;" tabindex="-1" autocomplete="off">

          <button type="submit" class="btn form-submit" id="submit-btn">
            <span class="btn-text">Send Message</span>
            <span class="btn-loading" style="display:none;"><i class="fa-solid fa-spinner fa-spin"></i> Sending...</span>
          </button>

          <div id="form-message" class="form-message" role="status" aria-live="polite"></div>
        </form>
      </div>
    </section>
  </main>

  <!-- Resume Modal -->
  <div id="resume-modal" class="resume-modal" style="display:none;">
    <div class="resume-modal-content card">
      <button class="close-btn" id="close-resume-modal" style="position:absolute; top:10px; right:12px; background:none; border:none; font-size:26px; cursor:pointer; color:var(--text);">&times;</button>
      <h3>Get My Resume</h3>
      <p>Choose how you'd like to get my resume:</p>
      <div>
        <a href="Suraj Rauniyar CV.pdf" class="btn" target="_blank" rel="noopener noreferrer"><i class="fa-solid fa-download" style="margin-right:0.5rem;"></i>Download PDF</a>
        <button id="print-resume" class="btn outline"><i class="fa-solid fa-print" style="margin-right:0.5rem;"></i>Print Page</button>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <p>Â© <span id="year"></span> S Ishan â€” Computer & IT Security</p>
  </footer>

  <script>
  // ======== Site JS (improvements & bug fixes) ========
  (function(){
    const root = document.documentElement;
    const themeToggle = document.getElementById('theme-toggle');
    const navToggle = document.querySelector('.nav-toggle');
    const mobileNav = document.getElementById('mobile-nav');
    const mobileNavLinks = mobileNav ? mobileNav.querySelectorAll('a') : [];

    // initialize theme from localStorage
    const stored = localStorage.getItem('theme');
    if (stored) root.setAttribute('data-theme', stored);
    else root.setAttribute('data-theme', 'light');

    function updateThemeBtn(){
      const icon = themeToggle.querySelector('i');
      const isLight = root.getAttribute('data-theme') === 'light';
      // show moon when in light mode (indicates switch to dark), sun when dark (switch to light)
      icon.className = isLight ? 'fa-regular fa-moon' : 'fa-regular fa-sun';
      themeToggle.setAttribute('aria-pressed', String(isLight));
      themeToggle.style.color = getComputedStyle(root).getPropertyValue('--nav-text');
    }
    updateThemeBtn();

    themeToggle.addEventListener('click', () => {
      const next = root.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      root.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      updateThemeBtn();
    });

    // mobile nav toggle
    if (navToggle && mobileNav) {
      navToggle.addEventListener('click', () => {
        const expanded = navToggle.getAttribute('aria-expanded') === 'true';
        navToggle.setAttribute('aria-expanded', String(!expanded));
        if (expanded){
          mobileNav.style.display = 'none';
          mobileNav.setAttribute('aria-hidden','true');
          document.body.style.overflow = '';
        } else {
          mobileNav.style.display = 'block';
          mobileNav.setAttribute('aria-hidden','false');
          document.body.style.overflow = 'hidden'; // prevent background scroll when open
        }
      });

      mobileNavLinks.forEach(a => a.addEventListener('click', () => {
        mobileNav.style.display = 'none';
        mobileNav.setAttribute('aria-hidden','true');
        navToggle.setAttribute('aria-expanded','false');
        document.body.style.overflow = '';
      }));
    }

    // footer year
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Resume modal
    const resumeBtn = document.getElementById('resume-btn');
    const resumeModal = document.getElementById('resume-modal');
    const closeResumeModal = document.getElementById('close-resume-modal');
    const printResumeBtn = document.getElementById('print-resume');

    resumeBtn?.addEventListener('click', () => { resumeModal.style.display = 'flex'; resumeModal.style.alignItems='center'; resumeModal.style.justifyContent='center'; });
    closeResumeModal?.addEventListener('click', () => { resumeModal.style.display = 'none'; });
    resumeModal?.addEventListener('click', (e) => { if (e.target === resumeModal) resumeModal.style.display = 'none'; });
    printResumeBtn?.addEventListener('click', () => { resumeModal.style.display = 'none'; setTimeout(()=> window.print(), 250); });

    // Contact form validation + rate-limiting (kept from original - lightweight)
    const contactForm = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const formMessage = document.getElementById('form-message');
    let lastSubmissionTime = 0;
    const RATE_LIMIT_MS = 30000;

    function validateField(field){
      const value = field.value.trim();
      const errorElement = document.getElementById(field.name + '-error');
      let isValid = true;
      if (errorElement) errorElement.textContent = '';
      field.classList.remove('error');
      if (!value){ if (errorElement) errorElement.textContent='This field is required.'; field.classList.add('error'); isValid=false; }
      else if (field.type === 'email'){
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(value)){ if (errorElement) errorElement.textContent='Please enter a valid email address.'; field.classList.add('error'); isValid=false; }
      } else if (field.name === 'name' && value.length < 2){ if (errorElement) errorElement.textContent='Name must be at least 2 characters long.'; field.classList.add('error'); isValid=false; }
      else if (field.name === 'message' && value.length < 10){ if (errorElement) errorElement.textContent='Message must be at least 10 characters long.'; field.classList.add('error'); isValid=false; }
      return isValid;
    }

    contactForm?.querySelectorAll('.form-input').forEach(field => {
      field.addEventListener('blur', ()=> validateField(field));
      field.addEventListener('input', ()=> { if (field.classList.contains('error')) validateField(field); });
    });

    contactForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const now = Date.now();
      if (now - lastSubmissionTime < RATE_LIMIT_MS){ showMessage('Please wait before sending another message.','error'); return; }

      const fields = contactForm.querySelectorAll('.form-input'); let isFormValid = true;
      fields.forEach(field => { if (!validateField(field)) isFormValid=false; });
      const honeypot = contactForm.querySelector('input[name="honeypot"]'); if (honeypot && honeypot.value) return;
      if (!isFormValid){ showMessage('Please fix the errors above.','error'); return; }

      // visual loading
      setLoadingState(true);
      try{
        // keep behavior but allow sites without /api/contact to still work gracefully
        const formData = new FormData(contactForm);
        const response = await fetch('/api/contact', { method:'POST', body: formData }).catch(()=> ({ ok:false }));
        if (response.ok){ showMessage('Thank you! Your message has been sent successfully.','success'); contactForm.reset(); lastSubmissionTime = now; }
        else { throw new Error('Failed'); }
      } catch(err){ console.error(err); showMessage('Sorry, there was an error sending your message. Please try again or contact me directly.','error'); }
      finally{ setLoadingState(false); }
    });

    function setLoadingState(loading){ const btnText = submitBtn?.querySelector('.btn-text'); const btnLoading = submitBtn?.querySelector('.btn-loading'); if (!submitBtn) return; if (loading){ if (btnText) btnText.style.display='none'; if (btnLoading) btnLoading.style.display='inline-flex'; submitBtn.disabled=true; } else { if (btnText) btnText.style.display='inline'; if (btnLoading) btnLoading.style.display='none'; submitBtn.disabled=false; } }

    function showMessage(message, type){ if (!formMessage) return; formMessage.textContent = message; formMessage.className = `form-message ${type}`; formMessage.scrollIntoView({ behavior:'smooth', block:'nearest' }); if (type === 'success'){ setTimeout(()=> { formMessage.style.display='none'; }, 4500); } }

    // small enhancement: highlight nav item when link clicked
    document.querySelectorAll('nav.primary-nav a').forEach(a => {
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        // update active state
        document.querySelectorAll('nav.primary-nav a').forEach(x => x.classList.remove('active'));
        a.classList.add('active');
        const href = a.getAttribute('href');
        if (href && href.startsWith('#')){
          const target = document.querySelector(href);
          if (target){
            const header = document.querySelector('.site-header');
            const headerHeight = header ? header.offsetHeight + 12 : 80;
            const top = target.getBoundingClientRect().top + window.scrollY - headerHeight;
            window.scrollTo({ top, behavior: 'smooth' });
          }
        } else {
          window.location = a.href;
        }
        // close mobile nav if open
        if (mobileNav && mobileNav.style.display === 'block'){
          mobileNav.style.display = 'none';
          mobileNav.setAttribute('aria-hidden','true');
          navToggle.setAttribute('aria-expanded','false');
          document.body.style.overflow = '';
        }
      });
    });

    // Mobile nav links: smooth scroll + close
    mobileNavLinks.forEach(a => {
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const href = a.getAttribute('href');
        if (href && href.startsWith('#')){
          const target = document.querySelector(href);
          if (target){
            const header = document.querySelector('.site-header');
            const headerHeight = header ? header.offsetHeight + 12 : 80;
            const top = target.getBoundingClientRect().top + window.scrollY - headerHeight;
            window.scrollTo({ top, behavior: 'smooth' });
          }
        }
        mobileNav.style.display = 'none';
        mobileNav.setAttribute('aria-hidden','true');
        navToggle.setAttribute('aria-expanded','false');
        document.body.style.overflow = '';
      });
    });

    // animate skill bars on scroll into view (lightweight)
    const skillFill = document.querySelector('.skill-fill');
    if (skillFill) {
      const fillTo = Number(skillFill.getAttribute('data-fill') || 0);
      const io = new IntersectionObserver(entries => {
        entries.forEach(ent => { if (ent.isIntersecting){ skillFill.style.width = fillTo + '%'; io.disconnect(); } });
      }, { threshold: 0.35 });
      io.observe(skillFill);
    }
  })();
  </script>
</body>
</html>
